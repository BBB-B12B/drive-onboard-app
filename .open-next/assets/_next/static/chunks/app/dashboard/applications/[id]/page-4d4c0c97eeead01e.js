(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[477],{103:(e,a,l)=>{"use strict";l.d(a,{ApplicationDetails:()=>ey});var r=l(5155),t=l(2115),s=l(3998),n=l(6948),i=l(1647),c=l(4294);let d=(0,c.A)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),o=(0,c.A)("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]),u=(0,c.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var h=l(3630),p=l(7776),x=l(2033),v=l(3489),m=l(8527),j=l(8068),g=l(443),f=l(3556),y=l(6615),b=l(4979),C=l(1052),N=l(2544),w=l(6942),D=l(6041),M=l(7163),R=l(243),z=l(8332),A=l(8770);async function I(e){let a=await fetch("/api/r2/sign-get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({r2Key:e})});if(!a.ok)throw Error((await a.json().catch(()=>({error:"Failed to get signed URL"}))).error);let{url:l}=await a.json();return l}function S(e){var a;let{fileRef:l,previewUrl:n}=e,[i,c]=(0,t.useState)(n||null),[o,u]=(0,t.useState)(!n),[h,p]=(0,t.useState)(null);if((0,t.useEffect)(()=>{if(n){c(n),u(!1);return}let e=!0;return(async()=>{u(!0),p(null);try{let a=await I(l.r2Key);e&&c(a)}catch(a){e&&p(a.message)}finally{e&&u(!1)}})(),()=>{e=!1}},[l.r2Key,n]),o)return(0,r.jsx)(R.E,{className:"h-full w-full"});if(h)return(0,r.jsx)("div",{className:"flex items-center justify-center h-full w-full p-2",children:(0,r.jsxs)(z.Fc,{variant:"destructive",className:"text-xs",children:[(0,r.jsx)(A.A,{className:"h-4 w-4"}),(0,r.jsx)(z.XL,{children:"Error"}),(0,r.jsx)(z.TN,{children:h})]})});if(!i)return null;if(l.mime.startsWith("image/"))return(0,r.jsx)("div",{className:"relative w-full h-full flex items-center justify-center",children:(0,r.jsx)("img",{src:i,alt:"Preview of ".concat(l.r2Key),className:"object-contain w-auto h-auto max-w-full max-h-full",onError:e=>{var a;e.currentTarget.style.display="none",null==(a=e.currentTarget.parentElement)||a.insertAdjacentHTML("beforeend",'<div class="text-xs text-red-500">Failed to load image</div>')}})});let x=(null==(a=l.r2Key.split("/").pop())?void 0:a.split("-").slice(1).join("-"))||"document";return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full gap-2 p-2",children:[(0,r.jsx)(d,{className:"h-8 w-8 text-muted-foreground"}),(0,r.jsx)(s.$,{asChild:!0,size:"sm",children:(0,r.jsxs)("a",{href:i,download:x,children:[(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"ดาวน์โหลดเอกสาร"]})})]})}var B=l(7439),J=l(5142),V=l(5894);l(7650);var k=l(2467),O=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let l=(0,k.TL)(`Primitive.${a}`),s=t.forwardRef((e,t)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(s?l:a,{...n,ref:t})});return s.displayName=`Primitive.${a}`,{...e,[a]:s}},{}),L="horizontal",U=["horizontal","vertical"],E=t.forwardRef((e,a)=>{var l;let{decorative:t,orientation:s=L,...n}=e,i=(l=s,U.includes(l))?s:L;return(0,r.jsx)(O.div,{"data-orientation":i,...t?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"},...n,ref:a})});E.displayName="Separator";var T=l(4269);let P=t.forwardRef((e,a)=>{let{className:l,orientation:t="horizontal",decorative:s=!0,...n}=e;return(0,r.jsx)(E,{ref:a,decorative:s,orientation:t,className:(0,T.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",l),...n})});P.displayName=E.displayName;var F=l(63),K=l(1908),Z=l(8734),_=l(1186),W=l(909),$=l(3457),q=l(1120),H=l(4131),Y=l(154);let X=[{value:"กรุงเทพมหานคร",label:"กรุงเทพมหานคร",districts:[{value:"พระนคร",label:"เขตพระนคร",subDistricts:[{value:"บวรนิเวศ",label:"แขวงบวรนิเวศ"},{value:"วังบูรพาภิรมย์",label:"แขวงวังบูรพาภิรมย์"},{value:"ศาลเจ้าพ่อเสือ",label:"แขวงศาลเจ้าพ่อเสือ"}]},{value:"ดินแดง",label:"เขตดินแดง",subDistricts:[{value:"ดินแดง",label:"แขวงดินแดง"},{value:"สามเสนใน",label:"แขวงสามเสนใน"},{value:"รัชดาภิเษก",label:"แขวงรัชดาภิเษก"}]},{value:"บางนา",label:"เขตบางนา",subDistricts:[{value:"บางนา",label:"แขวงบางนา"},{value:"บางจาก",label:"แขวงบางจาก"},{value:"สำโรงเหนือ",label:"แขวงสำโรงเหนือ"}]}]},{value:"เชียงใหม่",label:"เชียงใหม่",districts:[{value:"เมืองเชียงใหม่",label:"อำเภอเมืองเชียงใหม่",subDistricts:[{value:"ศรีภูมิ",label:"ตำบลศรีภูมิ"},{value:"พระสิงห์",label:"ตำบลพระสิงห์"},{value:"ช้างม่อย",label:"ตำบลช้างม่อย"}]},{value:"สันทราย",label:"อำเภอสันทราย",subDistricts:[{value:"สันทรายหลวง",label:"ตำบลสันทรายหลวง"},{value:"หนองแหย่ง",label:"ตำบลหนองแหย่ง"},{value:"สันนาเม็ง",label:"ตำบลสันนาเม็ง"}]},{value:"หางดง",label:"อำเภอหางดง",subDistricts:[{value:"หางดง",label:"ตำบลหางดง"},{value:"สบแม่ข่า",label:"ตำบลสบแม่ข่า"},{value:"หนองควาย",label:"ตำบลหนองควาย"}]}]},{value:"ชลบุรี",label:"ชลบุรี",districts:[{value:"เมืองชลบุรี",label:"อำเภอเมืองชลบุรี",subDistricts:[{value:"บ้านโขด",label:"ตำบลบ้านโขด"},{value:"มะขามหย่ง",label:"ตำบลมะขามหย่ง"},{value:"บ้านสวน",label:"ตำบลบ้านสวน"}]},{value:"บางละมุง",label:"อำเภอบางละมุง",subDistricts:[{value:"หนองปรือ",label:"ตำบลหนองปรือ"},{value:"นาเกลือ",label:"ตำบลนาเกลือ"},{value:"ห้วยใหญ่",label:"ตำบลห้วยใหญ่"}]},{value:"ศรีราชา",label:"อำเภอศรีราชา",subDistricts:[{value:"ศรีราชา",label:"ตำบลศรีราชา"},{value:"ทุ่งสุขลา",label:"ตำบลทุ่งสุขลา"},{value:"สุรศักดิ์",label:"ตำบลสุรศักดิ์"}]}]},{value:"ขอนแก่น",label:"ขอนแก่น",districts:[{value:"เมืองขอนแก่น",label:"อำเภอเมืองขอนแก่น",subDistricts:[{value:"ในเมือง",label:"ตำบลในเมือง"},{value:"โนนท่อน",label:"ตำบลโนนท่อน"},{value:"สาวะถี",label:"ตำบลสาวะถี"}]},{value:"บ้านไผ่",label:"อำเภอบ้านไผ่",subDistricts:[{value:"บ้านไผ่",label:"ตำบลบ้านไผ่"},{value:"หนองน้ำใส",label:"ตำบลหนองน้ำใส"},{value:"หัวหนอง",label:"ตำบลหัวหนอง"}]},{value:"ชุมแพ",label:"อำเภอชุมแพ",subDistricts:[{value:"ชุมแพ",label:"ตำบลชุมแพ"},{value:"หนองเขียด",label:"ตำบลหนองเขียด"},{value:"นาสีนวล",label:"ตำบลนาสีนวล"}]}]},{value:"ภูเก็ต",label:"ภูเก็ต",districts:[{value:"เมืองภูเก็ต",label:"อำเภอเมืองภูเก็ต",subDistricts:[{value:"ตลาดใหญ่",label:"ตำบลตลาดใหญ่"},{value:"ตลาดเหนือ",label:"ตำบลตลาดเหนือ"},{value:"รัษฎา",label:"ตำบลรัษฎา"}]},{value:"กะทู้",label:"อำเภอกะทู้",subDistricts:[{value:"กะทู้",label:"ตำบลกะทู้"},{value:"ป่าตอง",label:"ตำบลป่าตอง"},{value:"กมลา",label:"ตำบลกมลา"}]},{value:"ถลาง",label:"อำเภอถลาง",subDistricts:[{value:"เทพกระษัตรี",label:"ตำบลเทพกระษัตรี"},{value:"ศรีสุนทร",label:"ตำบลศรีสุนทร"},{value:"ป่าคลอก",label:"ตำบลป่าคลอก"}]}]}],Q={value:"__other__",label:"อื่นๆ"},G=[{value:"driver",label:"พนักงานขับรถ"}],ee=[{value:"ไทย",label:"ไทย"},{value:"จีน",label:"จีน"},{value:"มลายู",label:"มลายู"},{value:"ลาว",label:"ลาว"},{value:"กะเหรี่ยง",label:"กะเหรี่ยง"}],ea=[{value:"ไทย",label:"ไทย"},{value:"พม่า",label:"พม่า"},{value:"ลาว",label:"ลาว"},{value:"กัมพูชา",label:"กัมพูชา"},{value:"เวียดนาม",label:"เวียดนาม"}],el=[{value:"พุทธ",label:"ศาสนาพุทธ"},{value:"คริสต์",label:"ศาสนาคริสต์"},{value:"อิสลาม",label:"ศาสนาอิสลาม"},{value:"ฮินดู",label:"ศาสนาฮินดู"},{value:"ซิกข์",label:"ศาสนาซิกข์"}],er=[...X.map(e=>({value:e.value,label:e.label}))];function et(e,a){let l=[...e];return a&&a!==Q.value&&(l.some(e=>e.value===a)||l.push({value:a,label:a})),l.push(Q),l}function es(e){var a;if(!e)return[];let l=null!=(a=X.find(a=>a.value===e))?a:X.find(a=>a.label===e);return l?l.districts.map(e=>({value:e.value,label:e.label})):[]}function en(e,a){var l,r;if(!e||!a)return[];let t=null!=(l=X.find(a=>a.value===e))?l:X.find(a=>a.label===e);if(!t)return[];let s=null!=(r=t.districts.find(e=>e.value===a))?r:t.districts.find(e=>e.label===a);return s?s.subDistricts.map(e=>({value:e.value,label:e.label})):[]}var ei=l(8916);let ec={pending:"รอตรวจสอบ",approved:"อนุมัติ",rejected:"ปฏิเสธ",terminated:"เลิกจ้าง"},ed={pending:"default",approved:"default",rejected:"destructive",terminated:"secondary"};async function eo(e,a){let l=await fetch(e,a);if(!l.ok){let e="Request failed with status ".concat(l.status," (").concat(l.statusText,")");try{let a=l.headers.get("content-type");if(a&&-1!==a.indexOf("application/json")){let a=await l.json();a.error&&(e=a.error)}else e=l.statusText}catch(a){e=l.statusText}throw console.error("safeFetch Error:",e),Error(e)}return l}async function eu(e){let a=(await l.e(187).then(l.t.bind(l,187,23))).default,r=await e.arrayBuffer();return btoa(new a.ArrayBuffer().append(r).end().match(/.{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}function eh(e,a){let l=e.split(","),r=l[0].match(/:(.*?);/),t=r?r[1]:"image/png",s=atob(l[1]),n=s.length,i=new Uint8Array(n);for(;n--;)i[n]=s.charCodeAt(n);return new File([i],a,{type:t})}async function ep(e){let a=await fetch("/api/r2/sign-get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({r2Key:e})});if(!a.ok)throw Error("Failed to get signed URL");let{url:l}=await a.json();return l}function ex(e){let{docSchema:a,files:l,onFileUpload:t,onFileDelete:n}=e,i=l.length>0;return(0,r.jsxs)("div",{className:"border rounded-lg p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h4",{className:"font-semibold",children:a.type}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium ".concat(i?"text-blue-500":"text-muted-foreground"),children:[i?(0,r.jsx)(d,{className:"h-4 w-4"}):(0,r.jsx)(o,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:i?"มี ".concat(l.length," ไฟล์"):"ไม่มีไฟล์"})]})]}),i?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(e=>(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("div",{className:"relative w-full aspect-video rounded-md overflow-hidden border bg-muted",children:(0,r.jsx)(S,{fileRef:{r2Key:"existing"===e.type?e.ref.r2Key:e.ref.file.name,mime:"existing"===e.type?e.ref.mime:e.ref.file.type,size:"existing"===e.type?e.ref.size:e.ref.file.size},previewUrl:e.displayUrl})}),(0,r.jsxs)("div",{className:"flex gap-2 pt-1 justify-end",children:[(0,r.jsx)(s.$,{asChild:!0,size:"sm",variant:"outline",type:"button",children:(0,r.jsxs)("label",{className:"cursor-pointer",children:[(0,r.jsx)(u,{className:"h-4 w-4 mr-1"})," เปลี่ยนไฟล์",(0,r.jsx)(J.p,{type:"file",className:"hidden",accept:"image/jpeg,image/png,application/pdf",onChange:l=>{var r;if(null==(r=l.target.files)?void 0:r[0]){let r="existing"===e.type?e.ref.r2Key:e.ref.objectUrl;t(a.id,l.target.files[0],r),l.target.value=""}}})]})}),(0,r.jsxs)(s.$,{size:"sm",variant:"destructive",type:"button",onClick:()=>n(a.id,"existing"===e.type?e.ref.r2Key:e.ref.objectUrl),children:[(0,r.jsx)(h.A,{className:"h-4 w-4 mr-1"})," ลบ"]})]})]},"existing"===e.type?e.ref.r2Key:e.ref.objectUrl))}):null,!i&&(0,r.jsx)("div",{className:"flex items-center justify-center p-6 bg-muted/50 rounded-md border-dashed border-2",children:(0,r.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,r.jsx)("p",{className:"font-medium",children:"ยังไม่ได้อัปโหลดเอกสาร"}),(0,r.jsx)(s.$,{asChild:!0,size:"sm",variant:"outline",className:"mt-2",type:"button",children:(0,r.jsxs)("label",{className:"cursor-pointer",children:[(0,r.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"อัปโหลด",(0,r.jsx)(J.p,{type:"file",className:"hidden",accept:"image/jpeg,image/png,application/pdf",onChange:e=>{var l;(null==(l=e.target.files)?void 0:l[0])&&(t(a.id,e.target.files[0]),e.target.value="")}})]})})]})})]})}function ev(e){let a=new Set(["nationalIdIssueDate","nationalIdExpiryDate","dateOfBirth","applicationDate","contractDate","applicantStartDate","gender","maritalStatus","residenceType","militaryStatus","criminalRecord","type","brand","model","color","prefix","height","weight","age","year","isPermanentAddressSame","isContactAddressSame"]),l=(e,r)=>{if(null==e){if(r&&a.has(r))return;return""}if(e instanceof Date)return e;if(Array.isArray(e))return e.map((e,a)=>l(e,String(a)));if("object"==typeof e){let a={};for(let r in e)a[r]=l(e[r],r);return a}return e};return l(e)}let em=e=>"object"==typeof e&&null!==e&&"r2Key"in e,ej=e=>"object"==typeof e&&null!==e&&"policy"in e,eg=new Date().getFullYear(),ef=e=>{if(!e)return;let a=new Date,l=a.getFullYear()-e.getFullYear(),r=a.getMonth()-e.getMonth();return(r<0||0===r&&a.getDate()<e.getDate())&&(l-=1),l<0?0:l};function ey(e){var a,c,d,o,u,h,p;let{application:R}=e,[z,A]=(0,t.useState)(!1),[I,S]=(0,t.useState)(null),[k,O]=(0,t.useState)(!1),L=R.applicant.fullName,{toast:U}=(0,V.dj)(),E=(0,F.useRouter)(),[T,X]=(0,t.useState)({toUpload:[],toDelete:[]}),ey=(0,t.useRef)(null);(0,t.useEffect)(()=>(ey.current=new Worker(l.tu(new URL(l.p+l.u(236),l.b))),()=>{var e;null==(e=ey.current)||e.terminate()}),[]);let[eb,eC]=(0,t.useTransition)(),eN=null!=(p=null==(a=R.status)?void 0:a.verification)?p:"pending",ew=(0,t.useMemo)(()=>{var e,a,l,r,t,s,n,i,c,d,o,u,h,p;let x=ev(R),v=e=>{if(!e||""===e)return;if(e instanceof Date)return e;let a=new Date(e);return Number.isNaN(a.getTime())?void 0:a};if(x.applicant){let n=null!=(r=v(null==(e=R.applicant)?void 0:e.nationalIdIssueDate))?r:void 0,i=null!=(t=v(null==(a=R.applicant)?void 0:a.nationalIdExpiryDate))?t:void 0,c=null!=(s=v(null==(l=R.applicant)?void 0:l.dateOfBirth))?s:void 0;x.applicant.nationalIdIssueDate=n,x.applicant.nationalIdExpiryDate=i,x.applicant.dateOfBirth=c}if(x.applicationDetails){let e=null!=(i=v(null==(n=R.applicationDetails)?void 0:n.applicationDate))?i:void 0;x.applicationDetails.applicationDate=e}if(x.guarantor&&(x.guarantor.contractDate=v(null==(c=R.guarantor)?void 0:c.contractDate),x.guarantor.applicantStartDate=v(null==(d=R.guarantor)?void 0:d.applicantStartDate)),x.vehicle){let e=ei.Sm.map(e=>e.value);x.vehicle.type&&e.includes(x.vehicle.type)||(x.vehicle.type=void 0);let a=x.vehicle.type;if(a){let e=(0,ei.Nf)(a).map(e=>e.value),l=null==(u=R.vehicle)?void 0:u.brand,r=x.vehicle.brand;r&&!e.includes(r)&&(x.vehicle.brand="other",x.vehicle.brandOther=(null==(h=R.vehicle)?void 0:h.brandOther)||l||r);let t=x.vehicle.brand;if(t&&"other"!==t){let e=(0,ei.lf)(a,t).map(e=>e.value),l=x.vehicle.model;l&&!e.includes(l)&&(x.vehicle.model=void 0),x.vehicle.brandOther=void 0,x.vehicle.modelOther=void 0}else"other"===t&&(x.vehicle.model=void 0)}else x.vehicle.brand=void 0,x.vehicle.model=void 0,x.vehicle.brandOther=void 0,x.vehicle.modelOther=void 0;let l=null==(o=R.vehicle)?void 0:o.color;l&&(!ei.xm.includes(l)||"other"===l)&&(x.vehicle.color="other",x.vehicle.colorOther=(null==(p=R.vehicle)?void 0:p.colorOther)||l),x.vehicle.color&&"other"!==x.vehicle.color&&(x.vehicle.colorOther=void 0)}return x.docs&&(x.docs.signature=void 0,x.docs.guarantorSignature=void 0),x},[R]),eD=D.dH.extend({docs:D.dH.shape.docs.unwrap().extend({signature:Z.Yj().optional(),guarantorSignature:Z.Yj().optional()}).optional()}),eM=(0,N.mN)({resolver:(0,w.u)(eD),defaultValues:ew}),{handleSubmit:eR,control:ez,reset:eA,formState:{isDirty:eI,errors:eS},trigger:eB}=eM,eJ=eM.watch("applicant.isPermanentAddressSame"),eV=eM.watch("vehicle.type"),ek=eM.watch("vehicle.brand"),eO=eM.watch("vehicle.color"),eL=eM.watch("applicationDetails.criminalRecord"),eU=eM.watch("applicant.dateOfBirth"),eE=eM.watch("applicant.race"),eT=eM.watch("applicant.nationality"),eP=eM.watch("applicant.religion"),eF=eM.watch("applicant.currentAddress.province"),eK=eM.watch("applicant.currentAddress.district"),eZ=eM.watch("applicant.currentAddress.subDistrict"),e_=eM.watch("applicant.permanentAddress.province"),eW=eM.watch("applicant.permanentAddress.district"),e$=eM.watch("applicant.permanentAddress.subDistrict"),eq=eM.watch("guarantor.address.province"),eH=eM.watch("guarantor.address.district"),eY=eM.watch("guarantor.address.subDistrict"),eX=(0,t.useMemo)(()=>new Set(ee.map(e=>e.value)),[]),eQ=(0,t.useMemo)(()=>new Set(ea.map(e=>e.value)),[]),eG=(0,t.useMemo)(()=>new Set(el.map(e=>e.value)),[]),e0=(0,t.useMemo)(()=>new Set(er.map(e=>e.value)),[]),[e1,e2]=(0,t.useState)(!1),[e4,e5]=(0,t.useState)(!1),[e3,e6]=(0,t.useState)(!1),[e8,e7]=(0,t.useState)(!1),[e9,ae]=(0,t.useState)(!1),[aa,al]=(0,t.useState)(!1),[ar,at]=(0,t.useState)(!1),[as,an]=(0,t.useState)(!1),[ai,ac]=(0,t.useState)(!1),[ad,ao]=(0,t.useState)(!1),[au,ah]=(0,t.useState)(!1),[ap,ax]=(0,t.useState)(!1),av=(0,t.useMemo)(()=>et(ee,eE),[eE]),am=(0,t.useMemo)(()=>et(ea,eT),[eT]),aj=(0,t.useMemo)(()=>et(el,eP),[eP]),ag=(0,t.useMemo)(()=>et(er,eF),[eF]),af=(0,t.useMemo)(()=>es(eF),[eF]),ay=(0,t.useMemo)(()=>et(af,eK),[af,eK]),ab=(0,t.useMemo)(()=>en(eF,eK),[eF,eK]),aC=(0,t.useMemo)(()=>et(ab,eZ),[ab,eZ]),aN=(0,t.useMemo)(()=>et(er,e_),[e_]),aw=(0,t.useMemo)(()=>es(e_),[e_]),aD=(0,t.useMemo)(()=>et(aw,eW),[aw,eW]),aM=(0,t.useMemo)(()=>en(e_,eW),[e_,eW]),aR=(0,t.useMemo)(()=>et(aM,e$),[aM,e$]),az=(0,t.useMemo)(()=>et(er,eq),[eq]),aA=(0,t.useMemo)(()=>es(eq),[eq]),aI=(0,t.useMemo)(()=>et(aA,eH),[aA,eH]),aS=(0,t.useMemo)(()=>en(eq,eH),[eq,eH]),aB=(0,t.useMemo)(()=>et(aS,eY),[aS,eY]),aJ=(0,t.useMemo)(()=>eV?(0,ei.Nf)(eV).map(e=>({value:e.value,label:e.label})):[],[eV]),aV=(0,t.useMemo)(()=>eV&&ek&&"other"!==ek?(0,ei.lf)(eV,ek).map(e=>({value:e.value,label:e.label})):[],[eV,ek]);(0,t.useEffect)(()=>{if(null==eE)return void e2(!1);""!==eE&&e2(!eX.has(eE))},[eE,eX]),(0,t.useEffect)(()=>{if(null==eT)return void e5(!1);""!==eT&&e5(!eQ.has(eT))},[eT,eQ]),(0,t.useEffect)(()=>{if(null==eP)return void e6(!1);""!==eP&&e6(!eG.has(eP))},[eP,eG]),(0,t.useEffect)(()=>{if(null==eF)return void e7(!1);""!==eF&&e7(!e0.has(eF))},[eF,e0]),(0,t.useEffect)(()=>{if(null==eK)return void ae(!1);""!==eK&&ae(!af.some(e=>e.value===eK))},[eK,af]),(0,t.useEffect)(()=>{if(null==eZ)return void al(!1);""!==eZ&&al(!ab.some(e=>e.value===eZ))},[eZ,ab]),(0,t.useEffect)(()=>{if(null==e_)return void at(!1);""!==e_&&at(!e0.has(e_))},[e_,e0]),(0,t.useEffect)(()=>{if(null==eW)return void an(!1);""!==eW&&an(!aw.some(e=>e.value===eW))},[eW,aw]),(0,t.useEffect)(()=>{if(null==e$)return void ac(!1);""!==e$&&ac(!aM.some(e=>e.value===e$))},[e$,aM]),(0,t.useEffect)(()=>{if(null==eq)return void ao(!1);""!==eq&&ao(!e0.has(eq))},[eq,e0]),(0,t.useEffect)(()=>{if(null==eH)return void ah(!1);""!==eH&&ah(!aA.some(e=>e.value===eH))},[eH,aA]),(0,t.useEffect)(()=>{if(null==eY)return void ax(!1);""!==eY&&ax(!aS.some(e=>e.value===eY))},[eY,aS]),(0,t.useEffect)(()=>{eA(ew)},[ew,eA]),(0,t.useEffect)(()=>{if(eJ){let e=eM.getValues("applicant.currentAddress");e&&eM.setValue("applicant.permanentAddress",{...e},{shouldDirty:!0})}},[eJ,eM]),(0,t.useEffect)(()=>{let e=ef(eU instanceof Date?eU:eU?new Date(eU):void 0);eM.setValue("applicant.age",e,{shouldDirty:!1,shouldValidate:!1})},[eU,eM]),(0,t.useEffect)(()=>{if(!eV){void 0!==eM.getValues("vehicle.brand")&&eM.setValue("vehicle.brand",void 0,{shouldDirty:!0}),eM.getValues("vehicle.brandOther")&&eM.setValue("vehicle.brandOther","",{shouldDirty:!0}),void 0!==eM.getValues("vehicle.model")&&eM.setValue("vehicle.model",void 0,{shouldDirty:!0}),eM.getValues("vehicle.modelOther")&&eM.setValue("vehicle.modelOther","",{shouldDirty:!0});return}let e=(0,ei.Nf)(eV).map(e=>e.value),a=eM.getValues("vehicle.brand");a&&!e.includes(a)&&(eM.setValue("vehicle.brand",void 0,{shouldDirty:!0}),eM.getValues("vehicle.brandOther")&&eM.setValue("vehicle.brandOther","",{shouldDirty:!0}),void 0!==eM.getValues("vehicle.model")&&eM.setValue("vehicle.model",void 0,{shouldDirty:!0}),eM.getValues("vehicle.modelOther")&&eM.setValue("vehicle.modelOther","",{shouldDirty:!0}))},[eV,eM]),(0,t.useEffect)(()=>{if(!ek){eM.getValues("vehicle.brandOther")&&eM.setValue("vehicle.brandOther","",{shouldDirty:!0}),eM.getValues("vehicle.model")&&eM.setValue("vehicle.model",void 0,{shouldDirty:!0}),eM.getValues("vehicle.modelOther")&&eM.setValue("vehicle.modelOther","",{shouldDirty:!0});return}if("other"===ek){eM.getValues("vehicle.model")&&eM.setValue("vehicle.model",void 0,{shouldDirty:!0});return}if(eV){let e=(0,ei.lf)(eV,ek).map(e=>e.value),a=eM.getValues("vehicle.model");a&&!e.includes(a)&&eM.setValue("vehicle.model",void 0,{shouldDirty:!0})}eM.getValues("vehicle.brandOther")&&eM.setValue("vehicle.brandOther","",{shouldDirty:!0}),eM.getValues("vehicle.modelOther")&&eM.setValue("vehicle.modelOther","",{shouldDirty:!0})},[ek,eV,eM]),(0,t.useEffect)(()=>{"other"!==eO&&eM.getValues("vehicle.colorOther")&&eM.setValue("vehicle.colorOther","",{shouldDirty:!0})},[eO,eM]),(0,t.useEffect)(()=>{"yes"!==eL&&eM.getValues("applicationDetails.criminalRecordDetails")&&eM.setValue("applicationDetails.criminalRecordDetails","",{shouldDirty:!0})},[eL,eM]),(0,t.useEffect)(()=>()=>{T.toUpload.forEach(e=>URL.revokeObjectURL(e.objectUrl))},[T.toUpload]);let ak=async(e,a,l)=>{let r;U({title:"กำลังประมวลผลไฟล์...",description:"กรุณารอสักครู่..."});let t=a;try{let l=await new Promise((l,r)=>{if(!ey.current)return void r(Error("Worker not initialized"));let t=a=>{if(a.data.id===e){var s;null==(s=ey.current)||s.removeEventListener("message",t),"complete"===a.data.type?l({file:a.data.file,md5:a.data.md5}):r(Error(a.data.error||"Worker processing failed"))}};ey.current.addEventListener("message",t),ey.current.postMessage({type:"process",id:e,file:a})});t=l.file,r=l.md5;let s=t.type.startsWith("image/")?5242880:0xa00000;if(t.size>s)return void U({variant:"destructive",title:"ไฟล์มีขนาดใหญ่เกินไป",description:"ขนาดไฟล์ต้องไม่เกิน ".concat(s/1048576,"MB")});U({title:"ประมวลผลสำเร็จ",description:"ขนาด: ".concat((t.size/1024).toFixed(0),"KB")})}catch(e){console.error("Image processing/MD5 failed:",e),U({variant:"destructive",title:"การประมวลผลล้มเหลว",description:"จะลองใช้วิธีปกติ"})}let s=URL.createObjectURL(t),n={docId:e,file:t,objectUrl:s,md5:r};X(a=>{let r=[...a.toUpload],t=[...a.toDelete];if(l){Object.values(R.docs||{}).flat().some(e=>e&&"object"==typeof e&&"r2Key"in e&&e.r2Key===l)&&!t.includes(l)&&t.push(l);let e=r.findIndex(e=>e.objectUrl===l);e>-1&&(URL.revokeObjectURL(r[e].objectUrl),r.splice(e,1))}{r=r.filter(a=>a.docId!==e||(URL.revokeObjectURL(a.objectUrl),!1));let a=aT(e);a&&!t.includes(a.r2Key)&&t.push(a.r2Key)}return r.push(n),{toUpload:r,toDelete:t}}),eB(),U({title:"เพิ่มไฟล์ในคิว",description:'การเปลี่ยนแปลงจะถูกบันทึกเมื่อคุณกดปุ่ม "บันทึกการเปลี่ยนแปลง"'})},aO=(e,a)=>{X(e=>{let l=e.toUpload.filter(e=>e.objectUrl!==a||(URL.revokeObjectURL(e.objectUrl),!1)),r=[...e.toDelete];return a.startsWith("applications/")&&!r.includes(a)&&r.push(a),{toUpload:l,toDelete:r}}),U({title:"ลบไฟล์สำเร็จ",description:'การเปลี่ยนแปลงจะถูกบันทึกเมื่อคุณกดปุ่ม "บันทึกการเปลี่ยนแปลง"'}),eB(),eB()};(0,t.useEffect)(()=>{(async()=>{var e,a;if((null==(e=R.docs)?void 0:e.signature)&&em(R.docs.signature)&&!eM.getValues("docs.signature"))try{let e=await ep(R.docs.signature.r2Key);eM.setValue("docs.signature",e,{shouldDirty:!1})}catch(e){console.error("Failed to load signature",e)}if((null==(a=R.docs)?void 0:a.guarantorSignature)&&em(R.docs.guarantorSignature)&&!eM.getValues("docs.guarantorSignature"))try{let e=await ep(R.docs.guarantorSignature.r2Key);eM.setValue("docs.guarantorSignature",e,{shouldDirty:!1})}catch(e){console.error("Failed to load guarantor signature",e)}})()},[R.docs,eM]);let aL=async e=>{var a,l,r,t,s,n,i,c,d,o,u,h,p,x,v,m;A(!0);let j=JSON.parse(JSON.stringify(e));if(j.docs||(j.docs={}),j.applicant){let a=j.applicant,l=null==(i=e.applicant)?void 0:i.dateOfBirth;a.age=ef(l instanceof Date?l:l?new Date(l):void 0),a.fullName="".concat((null==(c=e.applicant)?void 0:c.firstName)||""," ").concat((null==(d=e.applicant)?void 0:d.lastName)||"").trim(),a.isPermanentAddressSame&&a.currentAddress&&(a.permanentAddress={...a.currentAddress})}if(j.applicationDetails&&"yes"!==j.applicationDetails.criminalRecord&&(j.applicationDetails.criminalRecordDetails=void 0),j.guarantor&&(j.guarantor.fullName="".concat((null==(o=e.guarantor)?void 0:o.firstName)||""," ").concat((null==(u=e.guarantor)?void 0:u.lastName)||"").trim()||void 0),j.vehicle){let e=j.vehicle;e.type?"other"!==e.brand?(e.brandOther=void 0,e.modelOther=void 0):e.model=void 0:(e.type=void 0,e.brand=void 0,e.brandOther=void 0,e.model=void 0,e.modelOther=void 0),"other"!==e.color&&(e.colorOther=void 0),"number"==typeof e.year&&Number.isNaN(e.year)&&(e.year=void 0),"string"==typeof e.brandOther&&(e.brandOther=e.brandOther.trim(),e.brandOther||(e.brandOther=void 0)),"string"==typeof e.modelOther&&(e.modelOther=e.modelOther.trim(),e.modelOther||(e.modelOther=void 0)),"string"==typeof e.plateNo&&(e.plateNo=e.plateNo.trim().toUpperCase(),e.plateNo||(e.plateNo=void 0)),"string"==typeof e.colorOther&&(e.colorOther=e.colorOther.trim(),e.colorOther||(e.colorOther=void 0))}let g=[],f=[...T.toDelete];if((null==(a=e.docs)?void 0:a.signature)&&"string"==typeof e.docs.signature&&e.docs.signature.startsWith("data:image")){let a=eh(e.docs.signature,"signature_".concat(R.appId,".png"));g.push({docId:"signature",file:a,objectUrl:""}),(null==(h=R.docs)?void 0:h.signature)&&em(R.docs.signature)&&!f.includes(R.docs.signature.r2Key)&&f.push(R.docs.signature.r2Key)}if((null==(l=e.docs)?void 0:l.guarantorSignature)&&"string"==typeof e.docs.guarantorSignature&&e.docs.guarantorSignature.startsWith("data:image")){let a=eh(e.docs.guarantorSignature,"guarantor_signature_".concat(R.appId,".png"));g.push({docId:"guarantorSignature",file:a,objectUrl:""}),(null==(p=R.docs)?void 0:p.guarantorSignature)&&em(R.docs.guarantorSignature)&&!f.includes(R.docs.guarantorSignature.r2Key)&&f.push(R.docs.guarantorSignature.r2Key)}let y=[...T.toUpload,...g];j.docs&&"string"==typeof j.docs.signature&&!j.docs.signature.startsWith("data:")&&(j.docs.signature=null==(x=R.docs)?void 0:x.signature),j.docs&&"string"==typeof j.docs.guarantorSignature&&!j.docs.guarantorSignature.startsWith("data:")&&(j.docs.guarantorSignature=null==(v=R.docs)?void 0:v.guarantorSignature),(null==(r=R.docs)?void 0:r.signature)&&!(null==(t=e.docs)?void 0:t.signature)&&em(R.docs.signature)&&!f.includes(R.docs.signature.r2Key)&&f.push(R.docs.signature.r2Key),(null==(s=R.docs)?void 0:s.guarantorSignature)&&!(null==(n=e.docs)?void 0:n.guarantorSignature)&&em(R.docs.guarantorSignature)&&!f.includes(R.docs.guarantorSignature.r2Key)&&f.push(R.docs.guarantorSignature.r2Key);try{let e=y.map(async e=>{let{docId:a,file:l,md5:r}=e;U({title:"กำลังอัปโหลด...",description:l.name});try{let e=r||await eu(l),t="other";if("signature"===a)t="signature";else if("guarantorSignature"===a)t="guarantor_signature";else{let e=M.l.find(e=>e.id===a);t=e?e.id:a.startsWith("signature")?"signature":a}let s=await eo("/api/r2/sign-put-applicant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({applicationId:R.appId,docType:t,fileName:l.name,mime:l.type,size:l.size,md5:e})}),{url:n,key:i}=await s.json();await eo(n,{method:"PUT",body:l,headers:{"Content-Type":l.type,"Content-MD5":e}});let c={r2Key:i,mime:l.type,size:l.size,md5:e};return U({title:"อัปโหลดสำเร็จ!",description:l.name,variant:"default"}),{docId:a,ref:c}}catch(e){throw U({variant:"destructive",title:"อัปโหลด ".concat(l.name," ล้มเหลว"),description:e.message}),e}}),a=await Promise.all(e),l=null!=(m=j.docs)?m:j.docs={};for(let e of Object.keys(l)){let a=l[e];em(a)?T.toDelete.includes(a.r2Key)&&delete l[e]:"insurance"===e&&a&&ej(a)&&a.policy&&T.toDelete.includes(a.policy.r2Key)&&delete a.policy}let r={"doc-citizen-id":"citizenIdCopy","doc-drivers-license":"driverLicenseCopy","doc-house-reg":"houseRegCopy","doc-car-reg":"carRegCopy","doc-car-photo":"carPhoto","doc-bank-account":"kbankBookFirstPage","doc-tax-act":"taxAndPRB","doc-guarantor-citizen-id":"guarantorCitizenIdCopy","doc-guarantor-house-reg":"guarantorHouseRegCopy"};for(let{docId:e,ref:t}of a)if("doc-insurance"===e)l.insurance||(l.insurance={}),l.insurance.policy=t;else if("signature"===e)l.signature=t;else if("guarantorSignature"===e)l.guarantorSignature=t;else{let a=r[e];a&&(l[a]=t)}if(await eo("/api/applications/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({appId:j.appId,manifest:j})}),U({title:"บันทึกการเปลี่ยนแปลงสำเร็จ!",description:"ข้อมูลใบสมัครได้รับการอัปเดตแล้ว",variant:"default"}),X({toUpload:[],toDelete:[]}),f.length>0)try{await eo("/api/r2/delete-objects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({r2Keys:f})}),U({title:"ล้างข้อมูลสำเร็จ",description:"ไฟล์เก่าจำนวน ".concat(f.length," ไฟล์ถูกลบออกจากระบบแล้ว")})}catch(e){console.error("Failed to delete old files:",e),U({variant:"destructive",title:"ลบไฟล์เก่าล้มเหลว",description:"การบันทึกข้อมูลสำเร็จ แต่ไม่สามารถลบไฟล์เก่าบางส่วนออกจากระบบได้"})}E.refresh();let t=ev(j);eA(t)}catch(e){console.error("onSubmit failed:",e),U({variant:"destructive",title:"บันทึกข้อมูลล้มเหลว",description:e.message||"เกิดข้อผิดพลาดบางอย่าง กรุณาลองใหม่อีกครั้ง"})}finally{A(!1)}},aU=e=>{eC(async()=>{if(!R.appId)return;let a=await (0,K.C)(R.appId,e);a.success?(U({title:"อัปเดตสถานะสำเร็จ",description:'ใบสมัครถูกเปลี่ยนสถานะเป็น "'.concat(ec[e],'"'),variant:"default"}),E.refresh()):U({title:"อัปเดตสถานะล้มเหลว",description:a.error,variant:"destructive"})})},aE=async(e,a)=>{if(!I){S(a);try{let a=await fetch("/api/download-form",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:e,data:R})});if(!a.ok){let l=await a.json();throw Error(l.error||"Failed to download ".concat(e))}let l=await a.blob();if("showSaveFilePicker"in window)try{let a=await window.showSaveFilePicker({suggestedName:e,types:[{description:"PDF Document",accept:{"application/pdf":[".pdf"]}}]}),r=await a.createWritable();await r.write(l),await r.close(),U({title:"ดาวน์โหลดสำเร็จ",description:"บันทึกไฟล์ ".concat(e," เรียบร้อยแล้ว"),variant:"default"});return}catch(e){if("AbortError"===e.name)return;console.warn("File System Access API failed, falling back to default download",e)}let r=window.URL.createObjectURL(l),t=document.createElement("a");t.href=r,t.download=e,document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(r),t.remove(),U({title:"ดาวน์โหลดสำเร็จ",description:"กำลังดาวน์โหลดไฟล์ ".concat(e),variant:"default"})}catch(a){console.error("Download failed for ".concat(e,":"),a),U({variant:"destructive",title:"ดาวน์โหลด ".concat(e," ล้มเหลว"),description:a.message})}finally{S(null)}}},aT=e=>{let a=R.docs;if(a)switch(e){case"doc-insurance":var l;return null==(l=a.insurance)?void 0:l.policy;case"doc-citizen-id":return a.citizenIdCopy;case"doc-drivers-license":return a.driverLicenseCopy;case"doc-house-reg":return a.houseRegCopy;case"doc-car-reg":return a.carRegCopy;case"doc-car-photo":return a.carPhoto;case"doc-bank-account":return a.kbankBookFirstPage;case"doc-tax-act":return a.taxAndPRB;case"doc-guarantor-citizen-id":return a.guarantorCitizenIdCopy;case"doc-guarantor-house-reg":return a.guarantorHouseRegCopy;default:return}},aP=(0,t.useMemo)(()=>e=>{let a=[];for(let l of T.toUpload.filter(a=>a.docId===e))a.push({type:"temp",ref:l,displayUrl:l.objectUrl});let l=l=>{!(!l||T.toDelete.includes(l.r2Key))&&(T.toUpload.some(a=>a.docId===e)||a.push({type:"existing",ref:l,displayUrl:""}))},r=aT(e);return Array.isArray(r)?r.forEach(l):l(r),a},[R.docs,T]),aF=eI||T.toUpload.length>0||T.toDelete.length>0;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.aR,{children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(n.ZB,{className:"font-headline text-2xl",children:L||"ผู้สมัครไม่มีชื่อ"}),(0,r.jsxs)(n.BT,{children:["รหัสใบสมัคร: ",R.appId]})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(i.E,{variant:ed[eN],className:"capitalize text-base h-8",children:ec[eN]})})]})})}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{className:"font-headline",children:"เอกสารที่สร้างโดยระบบ"}),(0,r.jsx)(n.BT,{children:"ดูตัวอย่างและดาวน์โหลดเอกสารที่สร้างจากข้อมูลที่กรอก"})]}),(0,r.jsxs)(n.Wu,{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsxs)(s.$,{variant:"outline",className:"w-full justify-start",type:"button",onClick:()=>aE("ใบสมัครงาน_".concat(R.applicant.firstName," ").concat(R.applicant.lastName,".pdf"),"application-form"),disabled:!!I,children:["application-form"===I?(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"ใบสมัครงาน.pdf"]}),(0,r.jsxs)(s.$,{variant:"outline",className:"w-full justify-start",type:"button",onClick:()=>aE("สัญญาจ้าง_".concat(R.applicant.firstName," ").concat(R.applicant.lastName,".pdf"),"transport-contract"),disabled:!!I,children:["transport-contract"===I?(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"สัญญาจ้างขนส่ง.pdf"]}),(0,r.jsxs)(s.$,{variant:"outline",className:"w-full justify-start",type:"button",onClick:()=>aE("สัญญาค้ำประกัน_".concat(R.applicant.firstName," ").concat(R.applicant.lastName,".pdf"),"guarantee-contract"),disabled:!!I||!(null==(c=R.guarantor)?void 0:c.fullName),children:["guarantee-contract"===I?(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"สัญญาค้ำประกัน.pdf"]})]})]}),(0,r.jsx)(C.lV,{...eM,children:(0,r.jsxs)("form",{onSubmit:eR(aL,e=>{let a=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=[];for(let t in e){let s=l?"".concat(l,".").concat(t):t,n=e[t];(null==n?void 0:n.message)?r.push("".concat(s,": ").concat(n.message)):"object"==typeof n&&null!==n&&r.push(...a(n,s))}return r},l=a(e);console.error("Form validation failed:",e),console.error("All error messages:",l),U({variant:"destructive",title:"บันทึกข้อมูลล้มเหลว",description:l.length>0?l[0].split(": ")[1]||l[0]:"กรุณาตรวจสอบข้อมูลที่กรอกไม่ถูกต้อง"})}),className:"pb-24 space-y-6",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{className:"font-headline",children:"ข้อมูลผู้สมัคร"}),(0,r.jsx)(n.BT,{children:"ฟิลด์ทั้งหมดจากหน้า /apply"})]}),(0,r.jsxs)(n.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"applicant.prefix",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["คำนำหน้าชื่อ",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsxs)(_.l6,{onValueChange:a.onChange,value:a.value||void 0,children:[(0,r.jsx)(C.MJ,{children:(0,r.jsx)(_.bq,{children:(0,r.jsx)(_.yv,{placeholder:"เลือกคำนำหน้า..."})})}),(0,r.jsxs)(_.gC,{children:[(0,r.jsx)(_.eb,{value:"นาย",children:"นาย"}),(0,r.jsx)(_.eb,{value:"นาง",children:"นาง"}),(0,r.jsx)(_.eb,{value:"นางสาว",children:"นางสาว"})]})]}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.firstName",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["ชื่อจริง",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",maxLength:40,placeholder:"ex. สมชาย",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.lastName",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["นามสกุล",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",maxLength:40,placeholder:"ex. ใจดี",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.nickname",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"ชื่อเล่น"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",maxLength:40,placeholder:"ex. ชาย",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"applicant.nationalId",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["เลขบัตรประชาชน",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",maxLength:13,inputMode:"numeric",placeholder:"ex. 1234567890123",onChange:e=>a.onChange(e.target.value.replace(/\D/g,"").slice(0,13))})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.nationalIdIssueDate",render:e=>{let{field:a}=e,l=a.value?a.value instanceof Date?a.value:new Date(a.value):void 0;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["วันที่ออกบัตรประชาชน",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(H.o,{value:l,onChange:e=>a.onChange(null!=e?e:void 0),fromYear:eg-30,toYear:eg})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.nationalIdExpiryDate",render:e=>{let{field:a}=e,l=a.value?a.value instanceof Date?a.value:new Date(a.value):void 0;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["วันที่บัตรประชาชนหมดอายุ",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(H.o,{value:l,onChange:e=>a.onChange(null!=e?e:void 0),fromYear:eg,toYear:eg+20})}),(0,r.jsx)(C.C5,{})]})}})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"applicant.dateOfBirth",render:e=>{let{field:a}=e,l=a.value?a.value instanceof Date?a.value:new Date(a.value):void 0;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["วัน/เดือน/ปีเกิด",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(H.o,{value:l,onChange:e=>a.onChange(null!=e?e:void 0),fromYear:eg-80,toYear:eg})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.age",render:e=>{var a,l;let{field:t}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"อายุ (ปี)"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{value:null!=(l=null==(a=t.value)?void 0:a.toString())?l:"",readOnly:!0})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.race",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"เชื้อชาติ"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:av,value:a.value?a.value:e1?Q.value:void 0,onChange:e=>{if(void 0===e){e2(!1),a.onChange("");return}if(e===Q.value){e2(!0),eM.setValue("applicant.race","",{shouldDirty:!0});return}e2(!1),a.onChange(e)},placeholder:"เลือกเชื้อชาติ...",allowClear:!0})}),e1&&(0,r.jsx)(C.MJ,{className:"mt-2",children:(0,r.jsx)(J.p,{value:a.value||"",maxLength:40,placeholder:"ex. ไทย",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.nationality",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"สัญชาติ"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:am,value:a.value?a.value:e4?Q.value:void 0,onChange:e=>{if(void 0===e){e5(!1),a.onChange("");return}if(e===Q.value){e5(!0),eM.setValue("applicant.nationality","",{shouldDirty:!0});return}e5(!1),a.onChange(e)},placeholder:"เลือกสัญชาติ...",allowClear:!0})}),e4&&(0,r.jsx)(C.MJ,{className:"mt-2",children:(0,r.jsx)(J.p,{value:a.value||"",maxLength:40,placeholder:"ex. ไทย",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"applicant.religion",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"ศาสนา"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:aj,value:a.value?a.value:e3?Q.value:void 0,onChange:e=>{if(void 0===e){e6(!1),a.onChange("");return}if(e===Q.value){e6(!0),eM.setValue("applicant.religion","",{shouldDirty:!0});return}e6(!1),a.onChange(e)},placeholder:"เลือกศาสนา...",allowClear:!0})}),e3&&(0,r.jsx)(C.MJ,{className:"mt-2",children:(0,r.jsx)(J.p,{value:a.value||"",maxLength:40,placeholder:"ex. พุทธ",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.height",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["ส่วนสูง (ซม.)",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:void 0!==a.value?String(a.value):"",inputMode:"numeric",maxLength:3,placeholder:"ex. 175",onChange:e=>a.onChange(e.target.value.replace(/\D/g,"").slice(0,3))})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.weight",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["น้ำหนัก (กก.)",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:void 0!==a.value?String(a.value):"",inputMode:"numeric",maxLength:3,placeholder:"ex. 70",onChange:e=>a.onChange(e.target.value.replace(/\D/g,"").slice(0,3))})}),(0,r.jsx)(C.C5,{})]})}})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"applicant.gender",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{className:"space-y-3",children:[(0,r.jsxs)(C.lR,{children:["เพศ",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsxs)(W.z,{onValueChange:a.onChange,value:a.value||void 0,className:"flex items-center space-x-4",children:[(0,r.jsxs)(C.eI,{className:"flex items-center space-x-2 space-y-0",children:[(0,r.jsx)(C.MJ,{children:(0,r.jsx)(W.C,{value:"male"})}),(0,r.jsx)(C.lR,{className:"font-normal",children:"ชาย"})]}),(0,r.jsxs)(C.eI,{className:"flex items-center space-x-2 space-y-0",children:[(0,r.jsx)(C.MJ,{children:(0,r.jsx)(W.C,{value:"female"})}),(0,r.jsx)(C.lR,{className:"font-normal",children:"หญิง"})]})]})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.maritalStatus",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["สถานภาพ",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsxs)(_.l6,{onValueChange:a.onChange,value:a.value||void 0,children:[(0,r.jsx)(C.MJ,{children:(0,r.jsx)(_.bq,{children:(0,r.jsx)(_.yv,{placeholder:"เลือกสถานภาพ..."})})}),(0,r.jsxs)(_.gC,{children:[(0,r.jsx)(_.eb,{value:"single",children:"โสด"}),(0,r.jsx)(_.eb,{value:"married",children:"แต่งงาน"}),(0,r.jsx)(_.eb,{value:"widowed",children:"หม้าย"}),(0,r.jsx)(_.eb,{value:"divorced",children:"หย่าร้าง"})]})]}),(0,r.jsx)(C.C5,{})]})}})]})]}),(0,r.jsxs)("div",{className:"space-y-4 border-t pt-6",children:[(0,r.jsx)("h4",{className:"text-md font-semibold",children:"ที่อยู่ปัจจุบัน"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"applicant.currentAddress.houseNo",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"บ้านเลขที่"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",placeholder:"ex. 123/45"})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.currentAddress.moo",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"หมู่ที่"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",placeholder:"ex. 1"})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.currentAddress.street",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"ถนน"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",placeholder:"ex. วิภาวดีรังสิต"})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.currentAddress.subDistrict",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["ตำบล/แขวง",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:aC,value:a.value?a.value:aa?Q.value:void 0,onChange:e=>{if(void 0===e){al(!1),a.onChange("");return}if(e===Q.value){al(!0),eM.setValue("applicant.currentAddress.subDistrict","",{shouldDirty:!0});return}al(!1),a.onChange(e)},placeholder:"เลือกตำบล/แขวง...",allowClear:!0,disabled:!eF||!eK})}),aa&&(0,r.jsx)(C.MJ,{className:"mt-2",children:(0,r.jsx)(J.p,{value:a.value||"",placeholder:"ex. จอมพล",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.currentAddress.district",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["อำเภอ/เขต",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:ay,value:a.value?a.value:e9?Q.value:void 0,onChange:e=>{if(void 0===e){ae(!1),a.onChange("");return}if(e===Q.value){ae(!0),eM.setValue("applicant.currentAddress.district","",{shouldDirty:!0});return}ae(!1),a.onChange(e)},placeholder:"เลือกอำเภอ/เขต...",allowClear:!0,disabled:!eF})}),e9&&(0,r.jsx)(C.MJ,{className:"mt-2",children:(0,r.jsx)(J.p,{value:a.value||"",placeholder:"ex. จตุจักร",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.currentAddress.province",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["จังหวัด",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:ag,value:a.value?a.value:e8?Q.value:void 0,onChange:e=>{if(void 0===e){ae(!1),al(!1),eM.setValue("applicant.currentAddress.district","",{shouldDirty:!0}),eM.setValue("applicant.currentAddress.subDistrict","",{shouldDirty:!0}),e7(!1),a.onChange("");return}if(e===Q.value){ae(!1),al(!1),eM.setValue("applicant.currentAddress.district","",{shouldDirty:!0}),eM.setValue("applicant.currentAddress.subDistrict","",{shouldDirty:!0}),e7(!0),eM.setValue("applicant.currentAddress.province","",{shouldDirty:!0});return}ae(!1),al(!1),eM.setValue("applicant.currentAddress.district","",{shouldDirty:!0}),eM.setValue("applicant.currentAddress.subDistrict","",{shouldDirty:!0}),e7(!1),a.onChange(e)},placeholder:"เลือกจังหวัด...",allowClear:!0})}),e8&&(0,r.jsx)(C.MJ,{className:"mt-2",children:(0,r.jsx)(J.p,{value:a.value||"",placeholder:"ex. กรุงเทพมหานคร",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.currentAddress.postalCode",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["รหัสไปรษณีย์",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",inputMode:"numeric",maxLength:5,placeholder:"ex. 10900",onChange:e=>a.onChange(e.target.value.replace(/\D/g,"").slice(0,5))})}),(0,r.jsx)(C.C5,{})]})}})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"applicant.homePhone",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"โทรศัพท์ (บ้าน)"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",inputMode:"tel",maxLength:10,placeholder:"ex. 021234567",onChange:e=>a.onChange(e.target.value.replace(/\D/g,"").slice(0,10))})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.mobilePhone",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["มือถือ",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",inputMode:"tel",maxLength:10,placeholder:"ex. 0812345678",onChange:e=>a.onChange(e.target.value.replace(/\D/g,"").slice(0,10))})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.email",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"อีเมล"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",type:"email",placeholder:"ex. email@example.com",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}})]})]}),(0,r.jsxs)("div",{className:"space-y-4 border-t pt-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h4",{className:"text-md font-semibold",children:"ที่อยู่ตามทะเบียนบ้าน"}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.isPermanentAddressSame",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{className:"flex flex-row items-start space-x-3 space-y-0",children:[(0,r.jsx)(C.MJ,{children:(0,r.jsx)($.S,{checked:!!a.value,onCheckedChange:e=>a.onChange(!!e)})}),(0,r.jsx)("div",{className:"space-y-1 leading-none",children:(0,r.jsx)(C.lR,{children:"ใช้ที่อยู่เดียวกับที่อยู่ปัจจุบัน"})})]})}})]}),!eJ&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"applicant.permanentAddress.houseNo",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"บ้านเลขที่"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",placeholder:"ex. 123/45",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.permanentAddress.moo",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"หมู่ที่"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",placeholder:"ex. 1",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.permanentAddress.street",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"ถนน"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",placeholder:"ex. วิภาวดีรังสิต",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.permanentAddress.subDistrict",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["ตำบล/แขวง",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:aR,value:a.value?a.value:ai?Q.value:void 0,onChange:e=>{if(void 0===e){ac(!1),a.onChange("");return}if(e===Q.value){ac(!0),eM.setValue("applicant.permanentAddress.subDistrict","",{shouldDirty:!0});return}ac(!1),a.onChange(e)},placeholder:"เลือกตำบล/แขวง...",allowClear:!0,disabled:!e_||!eW})}),ai&&(0,r.jsx)(C.MJ,{className:"mt-2",children:(0,r.jsx)(J.p,{value:a.value||"",placeholder:"ex. จอมพล",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.permanentAddress.district",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["อำเภอ/เขต",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:aD,value:a.value?a.value:as?Q.value:void 0,onChange:e=>{if(void 0===e){an(!1),a.onChange("");return}if(e===Q.value){an(!0),eM.setValue("applicant.permanentAddress.district","",{shouldDirty:!0});return}an(!1),a.onChange(e)},placeholder:"เลือกอำเภอ/เขต...",allowClear:!0,disabled:!e_})}),as&&(0,r.jsx)(C.MJ,{className:"mt-2",children:(0,r.jsx)(J.p,{value:a.value||"",placeholder:"ex. จตุจักร",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.permanentAddress.province",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["จังหวัด",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:aN,value:a.value?a.value:ar?Q.value:void 0,onChange:e=>{if(void 0===e){an(!1),ac(!1),eM.setValue("applicant.permanentAddress.district","",{shouldDirty:!0}),eM.setValue("applicant.permanentAddress.subDistrict","",{shouldDirty:!0}),at(!1),a.onChange("");return}if(e===Q.value){an(!1),ac(!1),eM.setValue("applicant.permanentAddress.district","",{shouldDirty:!0}),eM.setValue("applicant.permanentAddress.subDistrict","",{shouldDirty:!0}),at(!0),eM.setValue("applicant.permanentAddress.province","",{shouldDirty:!0});return}an(!1),ac(!1),eM.setValue("applicant.permanentAddress.district","",{shouldDirty:!0}),eM.setValue("applicant.permanentAddress.subDistrict","",{shouldDirty:!0}),at(!1),a.onChange(e)},placeholder:"เลือกจังหวัด...",allowClear:!0})}),ar&&(0,r.jsx)(C.MJ,{className:"mt-2",children:(0,r.jsx)(J.p,{value:a.value||"",placeholder:"ex. กรุงเทพมหานคร",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.permanentAddress.postalCode",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["รหัสไปรษณีย์",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",inputMode:"numeric",maxLength:5,placeholder:"ex. 10900",onChange:e=>a.onChange(e.target.value.replace(/\D/g,"").slice(0,5))})}),(0,r.jsx)(C.C5,{})]})}})]})]}),(0,r.jsxs)("div",{className:"space-y-4 border-t pt-6",children:[(0,r.jsx)("h4",{className:"text-md font-semibold",children:"ข้อมูลอื่นๆ"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"applicant.residenceType",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["ประเภทที่พักอาศัย",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsxs)(_.l6,{onValueChange:a.onChange,value:a.value||void 0,children:[(0,r.jsx)(C.MJ,{children:(0,r.jsx)(_.bq,{children:(0,r.jsx)(_.yv,{placeholder:"เลือกประเภท..."})})}),(0,r.jsxs)(_.gC,{children:[(0,r.jsx)(_.eb,{value:"own",children:"บ้านตัวเอง"}),(0,r.jsx)(_.eb,{value:"rent",children:"บ้านเช่า"}),(0,r.jsx)(_.eb,{value:"dorm",children:"หอพัก"})]})]}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicant.militaryStatus",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["ภาวะทางทหาร",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsxs)(_.l6,{onValueChange:a.onChange,value:a.value||void 0,children:[(0,r.jsx)(C.MJ,{children:(0,r.jsx)(_.bq,{children:(0,r.jsx)(_.yv,{placeholder:"เลือกสถานะ..."})})}),(0,r.jsxs)(_.gC,{children:[(0,r.jsx)(_.eb,{value:"exempt",children:"ยกเว้น"}),(0,r.jsx)(_.eb,{value:"discharged",children:"ปลดเป็นทหารกองหนุน"}),(0,r.jsx)(_.eb,{value:"not-drafted",children:"ยังไม่ได้รับการเกณฑ์"})]})]}),(0,r.jsx)(C.C5,{})]})}})]})]})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{className:"font-headline",children:"ข้อมูลการสมัครงาน"})}),(0,r.jsxs)(n.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"applicationDetails.position",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"ตำแหน่งที่ต้องการสมัคร"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:G,value:a.value||void 0,onChange:e=>a.onChange(null!=e?e:""),placeholder:"เลือกตำแหน่ง...",allowClear:!0})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicationDetails.applicationDate",render:e=>{let{field:a}=e,l=a.value?a.value instanceof Date?a.value:new Date(a.value):void 0;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["วันที่สมัคร",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(H.o,{value:l,onChange:e=>a.onChange(null!=e?e:void 0),fromYear:eg-1,toYear:eg+1})}),(0,r.jsx)(C.C5,{})]})}})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,r.jsx)(C.zB,{control:ez,name:"applicationDetails.criminalRecord",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{className:"space-y-3",children:[(0,r.jsxs)(C.lR,{children:["เคยมีประวัติอาชญากรรมหรือไม่",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsxs)(W.z,{onValueChange:a.onChange,value:a.value||void 0,className:"flex items-center gap-4",children:[(0,r.jsxs)(C.eI,{className:"flex items-center space-x-2 space-y-0",children:[(0,r.jsx)(C.MJ,{children:(0,r.jsx)(W.C,{value:"no"})}),(0,r.jsx)(C.lR,{className:"font-normal",children:"ไม่เคย"})]}),(0,r.jsxs)(C.eI,{className:"flex items-center space-x-2 space-y-0",children:[(0,r.jsx)(C.MJ,{children:(0,r.jsx)(W.C,{value:"yes"})}),(0,r.jsx)(C.lR,{className:"font-normal",children:"เคย"})]})]})}),(0,r.jsx)(C.C5,{})]})}})}),"yes"===eL&&(0,r.jsx)(C.zB,{control:ez,name:"applicationDetails.criminalRecordDetails",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["รายละเอียดประวัติอาชญากรรม",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(q.T,{...a,value:a.value||"",maxLength:500,rows:4,placeholder:"ex. รายละเอียดคดี...",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsxs)("div",{className:"space-y-4 border-t pt-6",children:[(0,r.jsx)("h4",{className:"text-md font-semibold",children:"บุคคลที่ติดต่อได้กรณีฉุกเฉิน"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"applicationDetails.emergencyContact.firstName",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"ชื่อ"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",maxLength:40,placeholder:"ex. สมหญิง",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicationDetails.emergencyContact.lastName",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"นามสกุล"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",maxLength:40,placeholder:"ex. ใจดี",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicationDetails.emergencyContact.relation",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"ความเกี่ยวข้อง"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",maxLength:40,placeholder:"ex. ภรรยา",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicationDetails.emergencyContact.occupation",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"อาชีพ"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",maxLength:80,placeholder:"ex. ค้าขาย",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"applicationDetails.emergencyContact.mobilePhone",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"มือถือ"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",inputMode:"tel",maxLength:10,placeholder:"ex. 0898765432",onChange:e=>a.onChange(e.target.value.replace(/\D/g,"").slice(0,10))})}),(0,r.jsx)(C.C5,{})]})}})]})]})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{className:"font-headline",children:"ข้อมูลยานพาหนะ"})}),(0,r.jsxs)(n.Wu,{className:"space-y-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"vehicle.type",render:e=>{var a;let{field:l}=e;return(0,r.jsxs)(C.eI,{className:"space-y-3",children:[(0,r.jsxs)(C.lR,{children:["ประเภทพาหนะ",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(W.z,{className:"flex flex-wrap gap-4",value:null!=(a=l.value)?a:void 0,onValueChange:l.onChange,children:ei.Sm.map(e=>(0,r.jsxs)(C.eI,{className:"flex items-center space-x-2 space-y-0",children:[(0,r.jsx)(C.MJ,{children:(0,r.jsx)(W.C,{value:e.value})}),(0,r.jsx)(C.lR,{className:"font-normal",children:e.label})]},e.value))})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"vehicle.brand",render:e=>{var a;let{field:l}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["ยี่ห้อรถ",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:aJ,value:null!=(a=l.value)?a:void 0,onChange:e=>l.onChange(e),placeholder:eV?"เลือกยี่ห้อ...":"เลือกประเภทก่อน",disabled:!eV,allowClear:!0})}),(0,r.jsx)(C.C5,{})]})}}),"other"===ek&&(0,r.jsx)(C.zB,{control:ez,name:"vehicle.brandOther",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["ระบุยี่ห้อ",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",maxLength:80,placeholder:"ex. BMW",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"vehicle.model",render:e=>{var a;let{field:l}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["รุ่นรถ","other"!==ek?(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"}):null]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:aV,value:null!=(a=l.value)?a:void 0,onChange:e=>l.onChange(e),placeholder:"other"===ek?"ระบุรุ่นด้านล่าง":"เลือกรุ่น...",disabled:!eV||!ek||"other"===ek,allowClear:!0})}),(0,r.jsx)(C.C5,{})]})}}),"other"===ek&&(0,r.jsx)(C.zB,{control:ez,name:"vehicle.modelOther",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["ระบุรุ่น",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",maxLength:80,placeholder:"ex. X5",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"vehicle.year",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"ปี (ค.ศ.)"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:void 0!==a.value?String(a.value):"",inputMode:"numeric",maxLength:4,placeholder:"ex. 2023",onChange:e=>a.onChange(e.target.value.replace(/\D/g,"").slice(0,4))})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"vehicle.plateNo",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"ป้ายทะเบียน"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",maxLength:20,placeholder:"ex. 1กข 1234",onChange:e=>a.onChange(e.target.value.toUpperCase())})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"vehicle.color",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"สี"}),(0,r.jsxs)(_.l6,{value:a.value||void 0,onValueChange:a.onChange,children:[(0,r.jsx)(C.MJ,{children:(0,r.jsx)(_.bq,{children:(0,r.jsx)(_.yv,{placeholder:"เลือกสี..."})})}),(0,r.jsxs)(_.gC,{children:[ei.xm.map(e=>(0,r.jsx)(_.eb,{value:e,children:e},e)),(0,r.jsx)(_.eb,{value:"other",children:"อื่นๆ"})]})]}),(0,r.jsx)(C.C5,{})]})}}),"other"===eM.watch("vehicle.color")&&(0,r.jsx)(C.zB,{control:ez,name:"vehicle.colorOther",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"ระบุสี"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",maxLength:40,placeholder:"ex. ชมพู",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}})]})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{className:"font-headline",children:"ข้อมูลผู้ค้ำประกัน (ถ้ามี)"})}),(0,r.jsxs)(n.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"guarantor.firstName",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"ชื่อจริง (ผู้ค้ำ)"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",placeholder:"ex. สมหญิง"})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"guarantor.lastName",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"นามสกุล (ผู้ค้ำ)"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",placeholder:"ex. ใจดี"})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"guarantor.nationalId",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"เลขบัตรประชาชน (ผู้ค้ำ)"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",maxLength:13,placeholder:"ex. 1234567890123",onChange:e=>a.onChange(e.target.value.replace(/\D/g,""))})}),(0,r.jsx)(C.C5,{})]})}})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold",children:"ที่อยู่ผู้ค้ำประกัน"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsx)(C.zB,{control:ez,name:"guarantor.address.houseNo",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"บ้านเลขที่"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",placeholder:"ex. 123/45"})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"guarantor.address.moo",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"หมู่ที่"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",placeholder:"ex. 1"})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"guarantor.address.street",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"ถนน"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",placeholder:"ex. วิภาวดีรังสิต"})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"guarantor.address.subDistrict",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["ตำบล/แขวง",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:aB,value:a.value?a.value:ap?Q.value:void 0,onChange:e=>{if(void 0===e){ax(!1),a.onChange("");return}if(e===Q.value){ax(!0),eM.setValue("guarantor.address.subDistrict","",{shouldDirty:!0});return}ax(!1),a.onChange(e)},placeholder:"เลือกตำบล/แขวง...",allowClear:!0,disabled:!eq||!eH})}),ap&&(0,r.jsx)(C.MJ,{className:"mt-2",children:(0,r.jsx)(J.p,{value:a.value||"",placeholder:"ex. จอมพล",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"guarantor.address.district",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["อำเภอ/เขต",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:aI,value:a.value?a.value:au?Q.value:void 0,onChange:e=>{if(void 0===e){ah(!1),a.onChange("");return}if(e===Q.value){ah(!0),eM.setValue("guarantor.address.district","",{shouldDirty:!0});return}ah(!1),a.onChange(e)},placeholder:"เลือกอำเภอ/เขต...",allowClear:!0,disabled:!eq})}),au&&(0,r.jsx)(C.MJ,{className:"mt-2",children:(0,r.jsx)(J.p,{value:a.value||"",placeholder:"ex. จตุจักร",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"guarantor.address.province",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["จังหวัด",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(Y.Z,{options:az,value:a.value?a.value:ad?Q.value:void 0,onChange:e=>{if(void 0===e){ah(!1),ax(!1),eM.setValue("guarantor.address.district","",{shouldDirty:!0}),eM.setValue("guarantor.address.subDistrict","",{shouldDirty:!0}),ao(!1),a.onChange("");return}if(e===Q.value){ah(!1),ax(!1),eM.setValue("guarantor.address.district","",{shouldDirty:!0}),eM.setValue("guarantor.address.subDistrict","",{shouldDirty:!0}),ao(!0),eM.setValue("guarantor.address.province","",{shouldDirty:!0});return}ah(!1),ax(!1),eM.setValue("guarantor.address.district","",{shouldDirty:!0}),eM.setValue("guarantor.address.subDistrict","",{shouldDirty:!0}),ao(!1),a.onChange(e)},placeholder:"เลือกจังหวัด...",allowClear:!0})}),ad&&(0,r.jsx)(C.MJ,{className:"mt-2",children:(0,r.jsx)(J.p,{value:a.value||"",placeholder:"ex. กรุงเทพมหานคร",onChange:e=>a.onChange(e.target.value)})}),(0,r.jsx)(C.C5,{})]})}}),(0,r.jsx)(C.zB,{control:ez,name:"guarantor.address.postalCode",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsxs)(C.lR,{children:["รหัสไปรษณีย์",(0,r.jsx)("span",{className:"text-destructive ml-1",children:"(จำเป็น)"})]}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(J.p,{...a,value:a.value||"",inputMode:"numeric",maxLength:5,placeholder:"ex. 10900",onChange:e=>a.onChange(e.target.value.replace(/\D/g,"").slice(0,5))})}),(0,r.jsx)(C.C5,{})]})}})]})]}),(0,r.jsxs)("div",{className:"space-y-4 pt-6 border-t mt-4",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold",children:"ลายมือชื่อผู้ค้ำประกัน"}),(0,r.jsx)(C.zB,{control:eM.control,name:"docs.guarantorSignature",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"ลายเซ็นผู้ค้ำ"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(B.H,{value:"string"==typeof a.value?a.value:void 0,onChange:a.onChange})}),(0,r.jsx)(C.C5,{})]})}})]})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{className:"font-headline",children:"ตรวจสอบเอกสาร"}),(0,r.jsx)(n.BT,{children:"เอกสารที่ผู้สมัครอัปโหลด"})]}),(0,r.jsxs)(n.Wu,{className:"space-y-4",children:[M.l.map(e=>(0,r.jsx)(ex,{docSchema:e,files:aP(e.id),onFileUpload:ak,onFileDelete:aO},e.id)),(0,r.jsxs)("div",{className:"pt-6 border-t mt-4",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold mb-4",children:"ลายมือชื่อผู้สมัคร"}),(0,r.jsx)(C.zB,{control:eM.control,name:"docs.signature",render:e=>{let{field:a}=e;return(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"ลายเซ็นผู้สมัคร"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(B.H,{value:"string"==typeof a.value?a.value:void 0,onChange:a.onChange})}),(0,r.jsx)(C.C5,{})]})}})]})]}),(0,r.jsx)(n.wL,{className:"flex-col items-start gap-4",children:(0,r.jsxs)("div",{className:"w-full space-y-4",children:[(0,r.jsx)(P,{}),(0,r.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,r.jsx)("h4",{className:"font-semibold",children:"การดำเนินการ"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(null==(d=R.status)?void 0:d.verification)==="pending"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.$,{variant:"default",onClick:()=>aU("approved"),disabled:eb,children:[eb?(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"อนุมัติใบสมัคร"]}),(0,r.jsxs)(s.$,{variant:"destructive",onClick:()=>aU("rejected"),disabled:eb,children:[eb?(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"ปฏิเสธใบสมัคร"]})]}),(null==(o=R.status)?void 0:o.verification)==="approved"&&(0,r.jsxs)(s.$,{variant:"secondary",onClick:()=>aU("terminated"),disabled:eb,children:[eb?(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"เลิกจ้าง"]}),((null==(u=R.status)?void 0:u.verification)==="rejected"||(null==(h=R.status)?void 0:h.verification)==="terminated")&&(0,r.jsxs)(s.$,{variant:"outline",onClick:()=>aU("pending"),disabled:eb,children:[eb?(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"พิจารณาใหม่"]})]})]})]})})]}),aF&&(0,r.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-sm border-t",children:(0,r.jsx)("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-20",children:[(0,r.jsx)("p",{className:"text-lg font-semibold",children:"ตรวจพบการเปลี่ยนแปลง"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(s.$,{variant:"ghost",type:"button",onClick:()=>{eA(ew),X({toUpload:[],toDelete:[]}),U({title:"ยกเลิกการเปลี่ยนแปลง",description:"ข้อมูลกลับเป็นเหมือนเดิมแล้ว"})},disabled:z,children:[(0,r.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"ยกเลิก"]}),(0,r.jsx)(s.$,{type:"submit",size:"lg",disabled:z,className:"min-w-[150px]",children:z?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}),"กำลังบันทึก..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"บันทึกการเปลี่ยนแปลง"]})})]})]})})})]})})]})}},243:(e,a,l)=>{"use strict";l.d(a,{E:()=>s});var r=l(5155),t=l(4269);function s(e){let{className:a,...l}=e;return(0,r.jsx)("div",{className:(0,t.cn)("animate-pulse rounded-md bg-muted",a),...l})}},443:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(4294).A)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},926:(e,a,l)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var l in a)Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}(a,{callServer:function(){return r.callServer},createServerReference:function(){return s.createServerReference},findSourceMapURL:function(){return t.findSourceMapURL}});let r=l(1209),t=l(5153),s=l(7197)},1647:(e,a,l)=>{"use strict";l.d(a,{E:()=>i});var r=l(5155);l(2115);var t=l(3101),s=l(4269);let n=(0,t.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-success text-success-foreground hover:bg-success/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:l,...t}=e;return(0,r.jsx)("div",{className:(0,s.cn)(n({variant:l}),a),...t})}},1908:(e,a,l)=>{"use strict";l.d(a,{C:()=>t});var r=l(926);let t=(0,r.createServerReference)("6009e53ae6289c3adffdfc6dc3f2f2867e742c90f3",r.callServer,void 0,r.findSourceMapURL,"updateApplicationStatus")},3489:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(4294).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},3556:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(4294).A)("FileClock",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"37hlfg"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}],["path",{d:"M9.5 17.5 8 16.25V14",key:"1o80t2"}]])},3630:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(4294).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7776:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(4294).A)("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]])},8068:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(4294).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},8332:(e,a,l)=>{"use strict";l.d(a,{Fc:()=>c,TN:()=>o,XL:()=>d});var r=l(5155),t=l(2115),s=l(3101),n=l(4269);let i=(0,s.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=t.forwardRef((e,a)=>{let{className:l,variant:t,...s}=e;return(0,r.jsx)("div",{ref:a,role:"alert",className:(0,n.cn)(i({variant:t}),l),...s})});c.displayName="Alert";let d=t.forwardRef((e,a)=>{let{className:l,...t}=e;return(0,r.jsx)("h5",{ref:a,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",l),...t})});d.displayName="AlertTitle";let o=t.forwardRef((e,a)=>{let{className:l,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",l),...t})});o.displayName="AlertDescription"},8527:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});let r=(0,l(4294).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9582:(e,a,l)=>{Promise.resolve().then(l.bind(l,103))}},e=>{e.O(0,[432,513,642,502,213,389,271,120,441,255,358],()=>e(e.s=9582)),_N_E=e.O()}]);